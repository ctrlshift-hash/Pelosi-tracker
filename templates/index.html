<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nancy Pelosi Portfolio Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">Pelosi Tracker</div>
            <div class="nav-links">
                <a href="#" class="active">Home</a>
                <a href="#holdings">Holdings</a>
                <a href="#trades">Trades</a>
                <a href="#" onclick="openAboutModal(); return false;">About</a>
            </div>
            <div class="nav-social">
                <a href="https://x.com/home" target="_blank" class="social-icon" title="Follow on X">
                    <img src="https://static.wixstatic.com/media/e2da02_75efd7a093fd4113a9662b914a541af9~mv2.jpg" alt="X/Twitter">
                </a>
                <a href="https://pump.fun" target="_blank" class="social-icon" title="Pump.fun">
                    <img src="https://static.wixstatic.com/media/e2da02_248e6293fa024f6e9dd4130271bb14c3~mv2.png" alt="Pump.fun">
                </a>
                <button class="ca-button" onclick="copyCaToClipboard()" title="Click to copy Contract Address">
                    <span class="ca-label">CA:</span>
                    <span class="ca-value">TBA</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <h1>Welcome to the Pelosi Tracker</h1>
                <p class="hero-subtitle">Educational analysis of publicly disclosed congressional trading data and financial disclosures for transparency and research purposes.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="document.getElementById('holdings').scrollIntoView({behavior: 'smooth'})">
                        View Holdings
                    </button>
                </div>
            </div>
            
            <div class="hero-stats-combined">
                <div class="stats-row">
                    <div class="stat-item">
                        <div class="stat-icon-small">üë•</div>
                        <div class="stat-content">
                            <div class="stat-label-small">TOTAL COPIERS</div>
                            <div class="stat-value-large" id="copiers-stat">14,973</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon-small">üí∞</div>
                        <div class="stat-content">
                            <div class="stat-label-small">ESTIMATED TOTAL INVESTED</div>
                            <div class="stat-value-large" id="invested-stat">$31,506,112</div>
                        </div>
                    </div>
                </div>
                <div class="stats-footer">
                    <p class="stats-disclaimer">Estimate based on average copier allocation of $2,104.20 across connected platforms.</p>
                    <a href="/profile" class="btn-view-portfolio">
                        <span class="icon">üë§</span> View Pelosi portfolio
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Nancy Says Quote -->
    <section class="nancy-says-section">
        <div class="container">
            <div class="nancy-says-box" id="nancy-says-box">
                <div class="nancy-says-header">
                    <span class="nancy-says-icon">üí¨</span>
                    <span class="nancy-says-title">Nancy Says</span>
                </div>
                <div class="nancy-says-quote" id="nancy-quote-text">
                    Loading quote...
                </div>
                <div class="nancy-says-source" id="nancy-quote-source">
                    ‚Äî Nancy Pelosi
                </div>
                <button class="nancy-says-refresh" onclick="loadNewQuote()">
                    üîÑ New Quote
                </button>
            </div>
        </div>
    </section>

    <!-- Profile Section -->
    <section class="profile-section">
        <div class="container">
            <a href="/profile" style="text-decoration: none; color: inherit; display: block;">
            <div class="profile-card" style="background: rgb(20, 20, 40) !important;">
                    <div class="profile-header">
                        <div class="profile-image">
                            <img src="https://static.wixstatic.com/media/e2da02_0a03833456ad46e6945df293c9e6a468~mv2.png" alt="Nancy Pelosi">
                        </div>
                    </div>
                    
                <div class="profile-card-top">
                    <div class="profile-info-top">
                            <h2>Nancy Pelosi</h2>
                        <p class="profile-title">Representative, California</p>
                        <div class="profile-badges">
                            <span class="badge badge-blue">Democrat</span>
                            <span class="badge badge-gray">District 11</span>
                        </div>
                    </div>
                </div>

                <div class="profile-stats-grid">
                    <div class="profile-stat">
                        <div class="profile-stat-label">Total Value</div>
                        <div class="profile-stat-value" id="total-value">$31.78M</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-label">Performance</div>
                        <div class="profile-stat-value positive" id="performance-value">+40.0%</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-label">Holdings</div>
                        <div class="profile-stat-value" id="holdings-value">11</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-label">Updated</div>
                        <div class="profile-stat-value small" id="updated-value">Today</div>
                    </div>
                </div>
            </div>
            </a>
        </div>
    </section>

    <!-- Holdings Section -->
    <section class="holdings-section" id="holdings">
        <div class="container">
            <div class="section-header">
                <h2>Current Holdings</h2>
                <p class="section-subtitle">Current stock holdings from Nancy Pelosi's portfolio, tracked in real-time</p>
            </div>

            <div class="holdings-table-wrapper">
                <table class="holdings-table">
                    <thead>
                        <tr>
                            <th>Ticker</th>
                            <th>Last Price</th>
                            <th>Weight</th>
                        </tr>
                    </thead>
                    <tbody id="holdings-body">
                        <tr>
                            <td colspan="3" class="loading">Loading holdings...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Trades Section -->
    <section class="trades-section" id="trades">
        <div class="container">
            <div class="section-header">
                <h2>Recent Trading Activity</h2>
                <p class="section-subtitle">Track stock trades from congressional financial disclosures in real-time</p>
            </div>

            <div class="trades-grid" id="trades-container">
                <div class="loading">Loading recent trades...</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Pelosi Tracker</h3>
                    <p>Educational analysis of publicly disclosed congressional trading data.</p>
                </div>
                <div class="footer-section">
                    <h4>Disclaimer</h4>
                    <p>Data sourced from publicly available financial disclosures. For informational purposes only. Not investment advice.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Pelosi Tracker. Last updated: <span id="footer-updated">-</span></p>
            </div>
        </div>
    </footer>

    <!-- About Modal -->
    <div id="aboutModal" class="modal">
        <div class="modal-overlay" onclick="closeAboutModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeAboutModal()">&times;</button>
            <h2>About Nancy Pelosi</h2>
            
            <div class="modal-section">
                <h3>üìã Background</h3>
                <p>Nancy Patricia Pelosi (born March 26, 1940) is an American politician who served as the 52nd Speaker of the United States House of Representatives from 2007 to 2011 and again from 2019 to 2023. She is the first woman to hold the position of Speaker of the House.</p>
                <p>Pelosi has represented California's 11th congressional district (now the 12th) since 1987, making her one of the longest-serving members of Congress. She has been a central figure in Democratic Party politics for decades and played a key role in the passage of major legislation including the Affordable Care Act.</p>
            </div>

            <div class="modal-section">
                <h3>üìä Trading Record & Performance</h3>
                <p><strong>Extraordinary Returns:</strong> According to the <a href="https://nypost.com/2025/11/08/us-news/nancy-pelosi-made-130-million-in-stock-profits-in-her-37-years-in-congress-a-profit-of-16930/" target="_blank" style="color: #3b82f6; text-decoration: underline;">New York Post</a>, Nancy Pelosi and her husband made at least <span class="highlight-green">$130 million in stock profits</span> over her 37 years in Congress ‚Äî a staggering return of <span class="highlight-green">16,930%</span>.</p>
                
                <p>Their portfolio grew from $610K-$785K in 1987 to an estimated <span class="highlight-blue">$133.7 million</span> today, representing an average annual return of 14.5% ‚Äî significantly outperforming the S&P 500, NASDAQ, and Dow Jones.</p>

                <p><strong>Notable Trading Characteristics:</strong></p>
                <ul>
                    <li><strong>Tech Giants:</strong> Major positions in NVIDIA, Apple, Google, Microsoft, Palo Alto Networks, Salesforce</li>
                    <li><strong>Options Mastery:</strong> Prolific use of call options on big tech stocks with high conviction trades</li>
                    <li><strong>2024 Performance:</strong> 54% return, more than double the S&P 500's 25% gain and beating every large hedge fund</li>
                </ul>

                <p><strong>Cultural Impact:</strong> Her trading is so famous that Congressional trading ban bills have been named after her, and ETFs like "NANC" attempt to copy her trades. The couple's net worth is estimated at <span class="highlight-blue">$280 million</span> today, up from around $3 million in 1987.</p>

                <p class="disclaimer">‚ö†Ô∏è <strong>Source:</strong> Data from NY Post reporting based on congressional financial disclosures and Quiver Quantitative analysis. This is for educational purposes only - not financial or investment advice.</p>
            </div>

            <div class="modal-section">
                <h3>üîó Retirement Announcement</h3>
                <p>On November 29, 2024, Nancy Pelosi announced her retirement from congressional leadership. However, her term continues until <strong>January 2027</strong>, and we'll continue tracking her portfolio activity until then.</p>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script>
        function openAboutModal() {
            document.getElementById('aboutModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeAboutModal() {
            document.getElementById('aboutModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeAboutModal();
        });

        // Copy CA to clipboard
        function copyCaToClipboard() {
            const ca = 'TBA'; // Replace with actual contract address when available
            navigator.clipboard.writeText(ca).then(function() {
                // Show success feedback
                const btn = document.querySelector('.ca-button');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<span style="color: #10b981;">‚úì Copied!</span>';
                btn.style.transform = 'scale(1.1)';
                
                setTimeout(function() {
                    btn.innerHTML = originalText;
                    btn.style.transform = 'scale(1)';
                }, 2000);
            }).catch(function(err) {
                console.error('Failed to copy:', err);
                alert('Failed to copy to clipboard');
            });
        }

        // Load Nancy Says quote
        async function loadNewQuote() {
            try {
                const response = await fetch('/api/nancy-quote');
                const quote = await response.json();
                
                document.getElementById('nancy-quote-text').textContent = `"${quote.quote}"`;
                document.getElementById('nancy-quote-source').textContent = `‚Äî ${quote.source}`;
                
                // Add animation
                const box = document.getElementById('nancy-says-box');
                box.style.animation = 'none';
                setTimeout(() => {
                    box.style.animation = 'fadeInUp 0.6s ease';
                }, 10);
            } catch (error) {
                console.error('Error loading quote:', error);
            }
        }

        // Load quote on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadNewQuote();
        });
    </script>
</body>
</html>
